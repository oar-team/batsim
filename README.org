
* Installation

** Dependencies
 - simgrid
   - without energy: rev 8de23104635721196 on git://scm.gforge.inria.fr/simgrid/simgrid.git
   - with energy: rev 685c03b7bc7bbc on https://github.com/mquinson/simgrid.git
   - with energy & SimGrid process tracing: rev 79f2c630c9587d494cb1 on https://github.com/mquinson/simgrid.git
 - rapidjson
 - boost (system, filesystem)
 - C++11 compiler

** First step: generate Makefile via CMake
: mkdir build
: cd build
: cmake -DCMAKE_BUILD_TYPE=Debug ..

** Second step: make
: make

* Usages
** Common part for cases which do NOT need energy:
In a terminal:
: ./build/batsim platforms/small_platform.xml workload_profiles/test_workload_profile.json

** With fake scheduler
In a second terminal:
: python fake_sched_uds.py workload_profiles/test_workload_profile.json

** With filler scheduler
: python filler_sched.py workload_profiles/test_workload_profile.json

** Energy experiments
*** Batsim
: ./build/batsim -p platforms/energy_platform_homogeneous.xml workload_profiles/test_workload_profile.json
*** Scheduler
: python fcfs_sleeper_sched.py workload_profiles/test_workload_profile.json

** With oar core scheduler
In a second terminal:

- First install the required oar-3 libraries.

 : git clone https://github.com/oar-team/oar-lib.git 
 : git clone https://github.com/oar-team/oar-kao.git

 : cd oar-lib
 : sudo python setup.py install
 : cd oar-kao
 : sudo python setup.py install

- Second use *bataar.py* which is the adaptor for OAR3 to interact with BatSim.
 : cd oar_kao
 : ./baatar.py ../../batsim/workload_profiles/test_workload_profile.json

Refer to [[https://github.com/oar-team/oar-kao][oar-kao]] site or bataar.py -h for more to information.

* Display information control
 Batsim has its own set of options but it can also handle standard SimGrid ones.
 The end-of-options delimiter "--" must then be used to use SimGrid options.

** Display Batsim options/help
 ./batsim PLATFORM WORKLOAD --help

** Display SimGrid options/help
 ./batsim PLATFORM WORKLOAD -- --help

** Quiet run
 ./batsim [batsim_options...] PLATFORM WORKLOAD -q

** Display network information only
 ./batsim [batsim_options...] PLATFORM WORKLOAD -vnetwork-only

** Display debug information
 ./batsim [batsim_options...] PLATFORM WORKLOAD -vdebug

** Generate SimGrid processes' trace (can be useful to visualize what happens)
 ./batsim [batsim_options...] PLATFORM WORKLOAD -- --cfg=tracing:1 --cfg=tracing/msg/process:1